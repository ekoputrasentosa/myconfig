# Path to your oh-my-zsh installation.
export ZSH="$HOME/.oh-my-zsh"

ZSH_THEME="intheloop"

plugins=(
    zsh-autosuggestions
    zsh-syntax-highlighting
)

source $ZSH/oh-my-zsh.sh

# USER CONFIGURATION

# zsh-autosuggestions
ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE='fg=#20a267'

# Aliases
alias vim="nvim"
alias z="zoxide"
alias ls="exa"
alias ll="exa -alh --header"
alias tree="exa --tree --header"
alias cat="bat"
alias t="tmux"
alias n="nnn -de"
alias lg="lazygit"
alias vv="$HOME/.zsh_functions/./vim_custom"
alias push_master_test="$HOME/.zsh_functions/./rsync_custom"
alias sudoedit="sudo -e"

alias zt="z tsel"
alias zh="z hisr && vv"
alias zhi="z ingestion && vv"

# brew for running under rosetta 2
alias ibrew='arch -x86_64 /usr/local/bin/brew'

# Force xterm-color on ssh sessions
alias ssh='TERM=xterm-256color ssh'

# trying love
alias love='/Applications/love.app/Contents/MacOS/love'

#add path to use Sudoedit using Lvim
export EDITOR=/usr/local/bin/nvim
export SUDO_EDITOR=/usr/local/bin/nvim

export PATH="$HOME/.local/bin:$PATH"
export PATH="$HOME/.zsh_functions:$PATH"
export PATH="/usr/local/sbin:$PATH"
export PATH=~/.npm-global/bin:$PATH
export LC_ALL=en_US.UTF-8
export LANG=en_US.UTF-8
export PATH="/usr/local/opt/openjdk/bin:$PATH"
export CPPFLAGS="-I/usr/local/opt/openjdk/include"
export PATH="$HOME/Library/Python/3.8/bin:$PATH"

set -o vi

# eval "$(oh-my-posh init zsh --config ~/.poshthemes/peru.omp.json)"
eval "$(oh-my-posh init zsh --config $HOME/.config/themes/peru-edited.omp.json)"
eval "$(zoxide init zsh)"

# The next line updates PATH for the Google Cloud SDK.
if [ -f '/Users/ekoputra/Documents/google-cloud-sdk/path.zsh.inc' ];
then . '/Users/ekoputra/Documents/google-cloud-sdk/path.zsh.inc';
fi

# The next line enables shell command completion for gcloud.
if [ -f '/Users/ekoputra/Documents/google-cloud-sdk/completion.zsh.inc' ];
then . '/Users/ekoputra/Documents/google-cloud-sdk/completion.zsh.inc';
fi

[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh

# SSH //should setting first on ssh/config
function fzf-ssh () {
  local selected_host=$(grep "Host " ~/.ssh/config | grep -v '*' | cut -b 6- | fzf-tmux -p 30% --reverse --query "$LBUFFER" --prompt="SSH Remote > ")

  if [ -n "$selected_host" ]; then
    BUFFER="ssh ${selected_host}"
    zle accept-line
  fi
  zle reset-prompt
}

zle -N fzf-ssh
bindkey '^s' fzf-ssh

# fzf export
export FZF_DEFAULT_OPS="--extended"
export FZF_DEFAULT_COMMAND="fd --type f"
export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND"
export FZF_CTRL_R_OPTS="--reverse"
export FZF_TMUX_OPTS="-p 40%"

# term
export TERM="xterm-256color"
[[ -n $TMUX ]] && export TERM="screen-256color"

# my neovim config
export MYVIMRC='~/.config/nvim/lua/brew/init.lua'
export PYTHONPATH=$PYTHONPATH:/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/site-packages
